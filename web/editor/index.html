<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">

	<link rel="stylesheet" href="../bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" href="../bootstrap/css/bootstrap-theme.min.css">

	<!-- Bootstrap-notify -->
  <link href="../bootstrap-notify/bootstrap-notify.min.css" rel="stylesheet">

	<link rel="stylesheet" media="screen" href="../openfontlibrary/charger.css" rel="stylesheet" type="text/css"/>
	<style type="text/css" media="screen">
		h1 {
			font-family: 'ChargerRegular';
			font-weight: normal;
			font-style: normal;
		}

		#editor {
			position: absolute;
			top: 0;
			right: 0;
			bottom: 0;
			left: 274px;
			font-size: 16px;
		}

		#leftBar-expanded {
			top: 0;
			left: 0;
			color: white;
			background-color: #2C2C2F;
			position: absolute;
			height: 100%;
			width: 274px;
		}

		#leftBar-collapsed {
			top: 0;
			left: 0;
			color: white;
			background-color: #2C2C2F;
			position: absolute;
			height: 100%;
			width: 40px;
		}

		#leftBar_collapseButton {
			float: right;
		}


		#title {
			padding: 0px 10px;
		}

		#connectionPanel, #editorButtons {
			padding: 0px 10px;
			font-size: large;
		}

		.breakpoint {
			box-shadow: 0px 0px 1px 1px red inset;
			background-color: #c50000 !important;
		}

		#debugger {
		    position: absolute;
			right: 0;
			width: 600px;
			background-color: #2c2c2f;
			color: white;
			height: 100%;
		}

		#debugger_closeButton {
			float: right;
		}

		#debugger .panel {
		    background-color: #2c2c2f;
		}

		#debugger .list-group-item {
			background-color: #2c2c2f;
			color: white;
		}

		.debugger_ActiveLine {
			position: absolute;
			background: rgba(255, 255, 0, 0.2);
			width: 100% !important;
			left: 0 !important;
		}

		.debugger_ActiveInterval {
			position: absolute;
			box-shadow: 0px 0px 1px 1px yellow inset;
		}
	</style>
  </head>

  <body>
	<div id="leftBar-collapsed">
		<button id="leftBar_expandButton" class="btn btn-link">
			<span class="glyphicon glyphicon-chevron-right"></span>
		</button>
	</div>
	<div id="leftBar-expanded">
		<button id="leftBar_collapseButton" class="btn btn-link">
			<span class="glyphicon glyphicon-chevron-left"></span>
		</button>
		<div id="title">
			<h1>Uzi</h1>
		</div>
		<hr>
		<div id="connectionPanel">
			<div>
				<span style="display:inline-block;">Arduino port:</span>
				<div style="display:inline-block;" class="dropdown">
					<button id="connectionPanel_port" class="btn btn-primary dropdown-toggle " type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">Automatic
					<span class="caret"></span>
					</button>
					<ul id="connectionPanel_portlist" class="dropdown-menu" aria-labelledby="dropdownMenu1">
						<li><a href="#">COM3</a></li>
						<li><a href="#">COM4</a></li>
						<li><a href="#">COM5</a></li>
						<li><a href="#">COM6</a></li>
						<li><a href="#">COM7</a></li>
						<li><a href="#">COM8</a></li>
						<li><a href="#">COM9</a></li>
						<li role="separator" class="divider"></li>
						<li><a href="#">127.0.0.1:4242</a></li>
						<li><a href="#">Automatic</a></li>
						<li><a id="connectionPanel_otherPort" href="#">Other...</a></li>
					</ul>
				</div>
			</div>
			<p>
				<div class="btn-group btn-group-justified" role="group" aria-label="...">
					<div class="btn-group" role="group">
						<button id="connectionPanel_connect" type="button" class="btn btn-success">Connect</button>
					</div>
					<div class="btn-group" role="group">
						<button id="connectionPanel_disconnect" type="button" class="btn btn-danger" disabled="disabled">Disconnect</button>
					</div>
				</div>
			</p>
		</div>
		<div id="editorButtons">
			<p>
				<div class="btn-group " role="toolbar" aria-label="...">
					<div class="btn-group">
						<button id="compile" type="button" class="btn btn-primary">
							<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
							Verify
						</button>
					</div>
					<div class="btn-group">
						<button id="run" type="button" class="btn btn-primary" disabled="disabled">
							<span class="glyphicon glyphicon-play" aria-hidden="true"></span>
							Run
						</button>
					</div>
					<div class="btn-group">
						<button id="install" type="button" class="btn btn-primary" disabled="disabled">
							<span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span>
							Install
						</button>
						<button id="more" class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" disabled="disabled">
							<span class="caret"></span>
							<span class="sr-only">Toggle Dropdown</span>
						</button>
						<ul class="dropdown-menu">
							<li><a id="debug" href="#">Debug</a></li>
						</ul>
					</div>
				</div>
			</p>
		</div>
	</div>
	<div id="editor">
"Example: Blinking two leds"

task blink13() running 1/s {
    toggle(D13);
}

task blink11() running 2/s {
    toggle(D11);
}
	</div>
	<div id="debugger" class="container" style="display: none;">
		<button id="debugger_closeButton" class="btn btn-link">
			<span class="glyphicon glyphicon-remove"></span>
		</button>
		<h1>
			<span>Uzi</span> <span>Debugger</span>
		</h1>
		<div class="row">
			<div class="col-sm-12">
				<div class="panel panel-default">
					<div id="buttons" class="btn-group panel-body" role="toolbar" aria-label="...">
						<div class="btn-group">
							<button id="continueButton" type="button" class="btn btn-primary">
								<span class="glyphicon glyphicon-forward" aria-hidden="true"></span>
								Continue
							</button>
						</div>
						<div class="btn-group">
							<button id="overButton" type="button" class="btn btn-primary">
								<span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span>
								Over
							</button>
						</div>
						<div class="btn-group">
							<button id="intoButton" type="button" class="btn btn-primary">
								<span class="glyphicon glyphicon-import" aria-hidden="true"></span>
								Into
							</button>
						</div>
						<div class="btn-group">
							<button id="outButton" type="button" class="btn btn-primary">
								<span class="glyphicon glyphicon-export" aria-hidden="true"></span>
								Out
							</button>
						</div>
						<div class="btn-group">
							<button id="nextButton" type="button" class="btn btn-primary">
								<span class="glyphicon glyphicon-step-forward" aria-hidden="true"></span>
								Next
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-sm-12">
				<div class="panel panel-default">
					<div class="panel-heading">Call stack</div>
					<div id="stackFrames" class="list-group"></div>
				</div>
			</div>
		</div>



		<div class="row">
			<div class="col-sm-6">
				<div class="panel panel-default">
					<div class="panel-heading">Stack</div>
					<table id="stack" class="table">
						<thead>
							<tr>
								<th scope="col">#</th>
								<th scope="col">HEX</th>
								<th scope="col">Value</th>
							</tr>
						</thead>
						<tbody></tbody>
					</table>
				</div>
			</div>
			<div class="col-sm-6">
				<div class="panel panel-default">
					<div class="panel-heading">Locals</div>
					<table id="locals" class="table">
						<thead>
							<tr>
								<th scope="col">Name</th>
								<th scope="col">Value</th>
							</tr>
						</thead>
						<tbody></tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../jquery/jquery-1.12.4.min.js"></script>
    <script src="../bootstrap/js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../bootstrap/ie10-viewport-bug-workaround.js"></script>

	<script src="../bootstrap-notify/bootstrap-notify.min.js"></script>

	<!-- ACE -->
	<script src="../ace/ace.js" type="text/javascript" charset="utf-8"></script>
	<script>
		var editor = ace.edit("editor");
		editor.setTheme("ace/theme/ambiance");
		editor.getSession().setMode("ace/mode/uzi");
	</script>

	<!-- Uzi -->
	<script src="../ajax.js" type="text/javascript"></script>
	<script src="../alert.js" type="text/javascript"></script>
	<script src="../uzi.js" type="text/javascript"></script>
	<script src="../connectionPanel/connectionPanel.js" type="text/javascript"></script>
	<script src="../debugger/debugger.js" type="text/javascript"></script>

	<script src="editor.js" type="text/javascript"></script>
	<script>
		Uzi.start();
		UziEditor.init();
		UziDebugger.init();

		$("#leftBar_collapseButton").on("click", function () {
			$("#leftBar-expanded").css("display", "none");
			$("#leftBar-collapsed").css("display", "");
			$("#editor").css("left", $("#leftBar-collapsed").width() + "px");
		});
		$("#leftBar_expandButton").on("click", function () {
			$("#leftBar-collapsed").css("display", "none");
			$("#leftBar-expanded").css("display", "");
			$("#editor").css("left", $("#leftBar-expanded").width() + "px");
		});
	</script>
  </body>
</html>
