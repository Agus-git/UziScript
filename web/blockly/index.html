<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
	
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css">
	
	<!-- Bootstrap-notify -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-notify/0.2.0/css/bootstrap-notify.min.css" rel="stylesheet">
	
	<link rel="stylesheet" media="screen" href="http://openfontlibrary.org/face/charger" rel="stylesheet" type="text/css"/>
	<style type="text/css" media="screen">
		h1 { 
			font-family: 'ChargerRegular'; 
			font-weight: normal; 
			font-style: normal; 
		}
		
		#editor { 
			position: absolute;
			top: 0;
			right: 0;
			bottom: 0;
			left: 274px;
			font-size: 16px;
		}
		
		#left-bar {
			top: 0;
			left: 0;
			background-color: white;
			color: #0A0A0A;
			position: absolute;
			height: 100%;
			width: 274px;
		}
		
		#title {
			padding: 0px 10px;
		}
		
		#controls {
			padding: 10px;
			font-size: large;
		}
		
	</style>
  </head>

  <body>
	<div id="left-bar">
		<div id="title">
			<h1>UziBlock</h1>
		</div>
		<div id="controls">
			<div>
				<span style="display:inline-block;">Arduino port:</span>
				<div style="display:inline-block;" class="dropdown">
					<button id="port" class="btn btn-primary dropdown-toggle " type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">Automatic
					<span class="caret"></span>
					</button>
					<ul id="portlist" class="dropdown-menu" aria-labelledby="dropdownMenu1">
						<li><a href="#">COM3</a></li>
						<li><a href="#">COM4</a></li>
						<li><a href="#">COM5</a></li>
						<li><a href="#">COM6</a></li>
						<li><a href="#">COM7</a></li>
						<li><a href="#">COM8</a></li>
						<li><a href="#">COM9</a></li>
						<li role="separator" class="divider"></li>						
						<li><a href="#">Automatic</a></li>
						<li><a id="otherPort" href="#">Other...</a></li>
					</ul>
				</div>
			</div>
			<p>
				<div class="btn-group btn-group-justified" role="group" aria-label="...">
					<div class="btn-group" role="group">
						<button id="connect" type="button" class="btn btn-success">Connect</button>
					</div>
					<div class="btn-group" role="group">
						<button id="disconnect" type="button" class="btn btn-danger" disabled="disabled">Disconnect</button>
					</div>
				</div>
			</p>
			<p>
				<div class="btn-group " role="toolbar" aria-label="...">
					<div class="btn-group">
						<button id="compile" type="button" class="btn btn-primary">
							<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
							Verify
						</button>
					</div>
					<div class="btn-group">
						<button id="run" type="button" class="btn btn-primary" disabled="disabled">
							<span class="glyphicon glyphicon-play" aria-hidden="true"></span>
							Run
						</button>
					</div>
					<div class="btn-group">
						<button id="install" type="button" class="btn btn-primary" disabled="disabled">
							<span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span>
							Install
						</button>
						<button id="more" class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" disabled="disabled">
							<span class="caret"></span>
							<span class="sr-only">Toggle Dropdown</span>
						</button>
						<ul class="dropdown-menu">
							<li><a href="#">Debug</a></li>
						</ul>
					</div>					
				</div>
			</p>
		</div>
	</div>
	<div id="editor"></div>
	<div id="blocklyDiv" style="position: absolute;"></div>
	<xml xmlns="http://www.w3.org/1999/xhtml" id="toolbox" style="display: none;">
	  <category name="Scripts" colour="#5ba5a5">
		<block type="script">
		  <field name="scriptName">default</field>
		  <field name="tickingTimes">1000</field>
		  <field name="tickingScale">s</field>
		</block>
		<block type="start_script">
		  <field name="scriptName">script name</field>
		</block>
		<block type="stop_script">
		  <field name="scriptName">script name</field>
		</block>
		<block type="run_script">
		  <field name="scriptName">script name</field>
		</block>
	  </category>
	  <category name="GPIO" colour="#a55b5b">
		<block type="toggle">
		  <field name="pinNumber">0</field>
		</block>
		<block type="toggle_variable"></block>
		<block type="turn_pin">
		  <field name="value">on</field>
		  <field name="pinNumber">0</field>
		</block>
		<block type="turn_pin_variable">
		  <field name="value">on</field>
		</block>
		<block type="is_pin">
		  <field name="state">on</field>
		  <field name="pinNumber">0</field>
		</block>
		<block type="is_pin_variable">
		  <field name="state">on</field>
		</block>
	  </category>
	  <category name="Logic" colour="#5C81A6">
		<block type="controls_if"></block>
		<block type="logic_compare">
		  <field name="OP">EQ</field>
		</block>
		<block type="logic_operation">
		  <field name="OP">AND</field>
		</block>
		<block type="logic_negate"></block>
		<block type="logic_boolean">
		  <field name="BOOL">TRUE</field>
		</block>
	  </category>
	  <category name="Loops" colour="#5CA65C">
		<block type="controls_whileUntil">
		  <field name="MODE">WHILE</field>
		</block>
		<block type="wait">
		  <field name="negate">false</field>
		</block>
	  </category>
	  <category name="Math" colour="#5C68A6">
		<block type="math_number_property">
		  <mutation divisor_input="false"></mutation>
		  <field name="PROPERTY">EVEN</field>
		  <value name="NUMBER_TO_CHECK">
			<shadow type="math_number">
			  <field name="NUM">0</field>
			</shadow>
		  </value>
		</block>
		<block type="math_round">
		  <field name="OP">ROUND</field>
		  <value name="NUM">
			<shadow type="math_number">
			  <field name="NUM">3.1</field>
			</shadow>
		  </value>
		</block>
		<block type="math_single">
		  <field name="OP">ROOT</field>
		  <value name="NUM">
			<shadow type="math_number">
			  <field name="NUM">9</field>
			</shadow>
		  </value>
		</block>
		<block type="math_trig">
		  <field name="OP">SIN</field>
		  <value name="NUM">
			<shadow type="math_number">
			  <field name="NUM">45</field>
			</shadow>
		  </value>
		</block>
		<block type="math_constant">
		  <field name="CONSTANT">PI</field>
		</block>
		<block type="math_number">
		  <field name="NUM">0</field>
		</block>
		<block type="math_arithmetic">
		  <field name="OP">ADD</field>
		  <value name="A">
			<shadow type="math_number">
			  <field name="NUM">1</field>
			</shadow>
		  </value>
		  <value name="B">
			<shadow type="math_number">
			  <field name="NUM">1</field>
			</shadow>
		  </value>
		</block>
		<block type="math_modulo">
		  <value name="DIVIDEND">
			<shadow type="math_number">
			  <field name="NUM">64</field>
			</shadow>
		  </value>
		  <value name="DIVISOR">
			<shadow type="math_number">
			  <field name="NUM">10</field>
			</shadow>
		  </value>
		</block>
		<block type="math_constrain">
		  <value name="VALUE">
			<shadow type="math_number">
			  <field name="NUM">50</field>
			</shadow>
		  </value>
		  <value name="LOW">
			<shadow type="math_number">
			  <field name="NUM">1</field>
			</shadow>
		  </value>
		  <value name="HIGH">
			<shadow type="math_number">
			  <field name="NUM">100</field>
			</shadow>
		  </value>
		</block>
		<block type="math_random_int">
		  <value name="FROM">
			<shadow type="math_number">
			  <field name="NUM">1</field>
			</shadow>
		  </value>
		  <value name="TO">
			<shadow type="math_number">
			  <field name="NUM">100</field>
			</shadow>
		  </value>
		</block>
		<block type="math_random_float"></block>
	  </category>
	  <category name="Variables" colour="#A65C81" custom="VARIABLE"></category>
	  <category name="Functions" colour="#9A5CA6" custom="PROCEDURE"></category>
	  <sep></sep>
	</xml>
	
	<!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"
			integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ="
			crossorigin="anonymous">
	</script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../ie10-viewport-bug-workaround.js"></script>
		
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-notify/0.2.0/js/bootstrap-notify.min.js"></script>
	
	<!-- Blockly -->
	<script src="google-blockly/blockly_compressed.js"></script>
	<script src="google-blockly/blocks_compressed.js"></script>
	<script src="google-blockly/msg/js/en.js"></script>
	<script>
		var blocklyArea = document.getElementById('editor');
		var blocklyDiv = document.getElementById('blocklyDiv');
		var workspace = Blockly.inject(blocklyDiv, { toolbox: document.getElementById('toolbox') });
		var onresize = function(e) {
			// Compute the absolute coordinates and dimensions of blocklyArea.
			var element = blocklyArea;
			var x = 0;
			var y = 0;
			do {
			  x += element.offsetLeft;
			  y += element.offsetTop;
			  element = element.offsetParent;
			} while (element);
			// Position blocklyDiv over blocklyArea.
			blocklyDiv.style.left = x + 'px';
			blocklyDiv.style.top = y + 'px';
			blocklyDiv.style.width = blocklyArea.offsetWidth + 'px';
			blocklyDiv.style.height = blocklyArea.offsetHeight + 'px';
		};
		window.addEventListener('resize', onresize, false);
		onresize();
		Blockly.svgResize(workspace);
	</script>
	
	<!-- Uzi -->
	<script src="../ajax.js" type="text/javascript"></script>
	<script src="../alert.js" type="text/javascript"></script>
	<script src="../uzi.js" type="text/javascript"></script>
	
	<!-- UziBlock -->
	<script src="uziblock.js" type="text/javascript"></script>
  </body>
</html>
