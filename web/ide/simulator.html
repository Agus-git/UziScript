<html>
  <head>
    <title>Simulator</title>
    <style>
      table,td{
        border: 1px solid black; 
        border-collapse: collapse;
        font-family: Arial;
        text-align: center;
        padding: 10px;
      }
    </style>
  </head>
<body>
  <svg width="1000" height="500" id="svg"> </svg>
  <script src="libs/jquery/jquery-1.12.4.min.js" type="text/javascript"></script>
  <script src="ajax.js" type="text/javascript"></script>
  <script src="uzi.js" type="text/javascript" ></script>
  <script src="simulator.js" type="text/javascript"></script>
  <script src="graphics.js" type="text/javascript" ></script>
  <script>
  var svg = document.getElementById("svg");
  var sim = ctorSimulator();
  var g = ctorGraphics();
  // var toggle = [{op_code:'toggle', arg: 2}];
  // var onOff=[{op_code:"turn_on", arg:2},{op_code:"turn_off", arg:2}];
  // var readWrite = [{op_code: 'read_pin', arg: 15}, {op_code: 'write_pin', arg: 3}];
  // var jmp=[ {op_code:"turn_on", arg:2}, {op_code: "jmp", arg: 1}, {op_code:"turn_off", arg:2},
  //           {op_code:"turn_on", arg:4}, {op_code:"turn_off", arg:4}];

  // var jz = [ {op_code:"turn_on", arg:2},{op_code: "read_pin", arg: 0}, {op_code: "jz", arg: 1}, {op_code: "turn_off", arg: 2}];
  // var jnz = [ {op_code:"turn_on", arg:2},{op_code: "read_pin", arg: 1}, {op_code: "jnz", arg: 1}, {op_code: "turn_off", arg: 2}];
  // var jne = [ {op_code:"turn_on", arg:0},{op_code: "read_pin", arg: 1},{op_code: "read_pin", arg: 1}, {op_code: "jgt", arg: 1}, {op_code: "turn_off", arg: 2}];


  $(document).ready(function () {
    Uzi.start().then(() => {
      console.log("Uzi started successfully!");
      sim.loadCurrentProgram();
    });
    g.drawCircles(svg,20,sim);
    //sim.drawCircles(svg, 20);
  });
  </script>

  <table id="globalsTable">
    <caption>Globals</caption>
  </table>
  
  <button onclick="sim.update();" id="update-button" type="button">Update</button>
  <button onclick="sim.start()" id="start-button" type="button">Start</button>
  <button onclick="sim.stop()" id="stop-button" type="button">Stop</button>
  <button onclick="sim.execute()" id="next-button" type="button">Next Instruction</button>
  <button onclick="g.showGlobals(sim)" id="show-globals" type="button">Show Globals</button>
  
</body>
</html>
